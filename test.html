<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form id="userSearch">
      <label for="user-location">Search for a city</label>
      <input type="text" id="user-location" /><br />
      <label for="user-state">State</label>
      <input type="text" id="user-state" /><br />
      <!-- This button will trigger our AJAX call -->
      <input id="user-search" type="submit" value="User Search" />
    </form>

    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script>
      //var userLocation = $("#user-location");
      $("#user-search").on("click", function (event) {
        event.preventDefault();

        var cityName = $("#user-location").val();
        var state = $("#user-state").val();
        var apiKey = "02d40ed26b4d772b862c1e7d6d86ac72";
        var weatherURL = `https://api.openweathermap.org/data/2.5/forecast?q=${cityName}&appid=${apiKey}`;

        //      `https://api.openweathermap.org/data/2.5/weather?q=Boston,MA&appid=${apiKey}`;

        //var queryURL = `https://api.openweathermap.org/data/2.5/weather?q=Bujumbura,Burundi&appid=${apiKey}`;

        $.ajax({
          url: weatherURL,
          method: "GET",
        }).then(function (response) {
          //$('#userSearch').text(JSON.stringify(response));
          //console.log(weatherURL);
          console.log(response);
        });
      });
    </script>
  </body>
</html>
